<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VarnaAI Control Dashboard</title>
    <link href="/output.css" rel="stylesheet">
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="min-h-screen">

    <!-- Main Container -->
    <div class="flex h-screen overflow-hidden" x-data="dashboard()">

        <!-- Toast Notification -->
        <div x-show="message.visible"
             x-transition:enter="transition ease-out duration-300"
             x-transition:enter-start="opacity-0 translate-y-2"
             x-transition:enter-end="opacity-100 translate-y-0"
             x-transition:leave="transition ease-in duration-200"
             x-transition:leave-start="opacity-100 translate-y-0"
             x-transition:leave-end="opacity-0 translate-y-2"
             class="fixed top-4 right-4 z-50 max-w-md"
             x-cloak>
            <div :class="{
                'bg-green-600': message.type === 'success',
                'bg-red-600': message.type === 'error',
                'bg-blue-600': message.type === 'info'
            }" class="px-6 py-4 rounded-lg shadow-lg text-white flex items-center space-x-3">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          :d="message.type === 'success' ? 'M5 13l4 4L19 7' : message.type === 'error' ? 'M6 18L18 6M6 6l12 12' : 'M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z'"></path>
                </svg>
                <span x-text="message.text"></span>
                <button @click="message.visible = false" class="ml-4 hover:opacity-75">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
        </div>

        <!-- Sidebar Navigation -->
        <aside class="w-64 bg-card-dark border-r border-border-dark flex-shrink-0">
            <div class="h-full flex flex-col">

                <!-- Logo/Brand -->
                <div class="gradient-header p-6">
                    <h1 class="text-2xl font-bold">VarnaAI</h1>
                    <p class="text-sm opacity-90">Control Center</p>
                </div>

                <!-- Navigation Menu -->
                <nav class="flex-1 p-4 space-y-2 overflow-y-auto">
                    <a href="#dashboard" @click="activeTab = 'dashboard'"
                       :class="activeTab === 'dashboard' ? 'bg-primary' : 'hover:bg-gray-700'"
                       class="flex items-center px-4 py-3 rounded-lg transition-colors">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                        </svg>
                        <span>Dashboard</span>
                    </a>

                    <a href="#wordpress" @click="activeTab = 'wordpress'"
                       :class="activeTab === 'wordpress' ? 'bg-primary' : 'hover:bg-gray-700'"
                       class="flex items-center px-4 py-3 rounded-lg transition-colors">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"></path>
                        </svg>
                        <span>WordPress</span>
                    </a>

                    <a href="#content" @click="activeTab = 'content'"
                       :class="activeTab === 'content' ? 'bg-primary' : 'hover:bg-gray-700'"
                       class="flex items-center px-4 py-3 rounded-lg transition-colors">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                        </svg>
                        <span>Content Gen</span>
                    </a>

                    <a href="#marketing" @click="activeTab = 'marketing'"
                       :class="activeTab === 'marketing' ? 'bg-primary' : 'hover:bg-gray-700'"
                       class="flex items-center px-4 py-3 rounded-lg transition-colors">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"></path>
                        </svg>
                        <span>Marketing</span>
                    </a>

                    <a href="#analytics" @click="activeTab = 'analytics'"
                       :class="activeTab === 'analytics' ? 'bg-primary' : 'hover:bg-gray-700'"
                       class="flex items-center px-4 py-3 rounded-lg transition-colors">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                        </svg>
                        <span>Analytics</span>
                    </a>

                    <a href="#actions" @click="activeTab = 'actions'"
                       :class="activeTab === 'actions' ? 'bg-primary' : 'hover:bg-gray-700'"
                       class="flex items-center px-4 py-3 rounded-lg transition-colors">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                        </svg>
                        <span>Quick Actions</span>
                    </a>

                    <a href="#settings" @click="activeTab = 'settings'"
                       :class="activeTab === 'settings' ? 'bg-primary' : 'hover:bg-gray-700'"
                       class="flex items-center px-4 py-3 rounded-lg transition-colors">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                        <span>AI Settings</span>
                    </a>
                </nav>

                <!-- User Section -->
                <div class="p-4 border-t border-border-dark">
                    <div class="flex items-center">
                        <div class="w-10 h-10 rounded-full bg-purple-gradient flex items-center justify-center font-bold">
                            BD
                        </div>
                        <div class="ml-3">
                            <p class="font-semibold">Big Dick</p>
                            <p class="text-xs text-gray-400">Admin</p>
                        </div>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="flex-1 overflow-y-auto">

            <!-- Top Header Bar -->
            <header class="bg-card-dark border-b border-border-dark sticky top-0 z-10">
                <div class="flex items-center justify-between px-8 py-4">
                    <div>
                        <h2 class="text-2xl font-bold" x-text="getTabTitle()"></h2>
                        <p class="text-sm text-gray-400" x-text="getTabSubtitle()"></p>
                    </div>
                    <div class="flex items-center space-x-4">
                        <!-- Notifications -->
                        <button class="relative p-2 hover:bg-gray-700 rounded-lg transition-colors">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"></path>
                            </svg>
                            <span class="absolute top-1 right-1 w-2 h-2 bg-alert rounded-full"></span>
                        </button>

                        <!-- Settings -->
                        <button class="p-2 hover:bg-gray-700 rounded-lg transition-colors">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                            </svg>
                        </button>
                    </div>
                </div>
            </header>

            <!-- Content Container -->
            <div class="p-8">

                <!-- Dashboard Tab -->
                <div x-show="activeTab === 'dashboard'" x-cloak>

                    <!-- Hero Metric Section -->
                    <div class="card mb-8 border-2 border-primary border-opacity-30">
                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">

                            <!-- Circular Progress Ring -->
                            <div class="flex flex-col items-center justify-center">
                                <div class="relative w-48 h-48">
                                    <!-- SVG Circle -->
                                    <svg class="transform -rotate-90 w-48 h-48">
                                        <circle cx="96" cy="96" r="88" stroke="rgba(148, 163, 184, 0.2)" stroke-width="8" fill="none" />
                                        <circle cx="96" cy="96" r="88" stroke="#f59e0b" stroke-width="8" fill="none"
                                                stroke-dasharray="552.92"
                                                :stroke-dashoffset="552.92 - (552.92 * 92 / 100)"
                                                class="transition-all duration-1000 ease-out" />
                                    </svg>
                                    <!-- Score Text -->
                                    <div class="absolute inset-0 flex flex-col items-center justify-center">
                                        <span class="text-5xl font-bold text-gold">92</span>
                                        <span class="text-sm text-text-tertiary">Average Score</span>
                                    </div>
                                </div>
                                <p class="mt-4 text-sm text-text-secondary text-center">Overall Dashboard Health</p>
                            </div>

                            <!-- Performance Indicators -->
                            <div class="lg:col-span-2 grid grid-cols-1 sm:grid-cols-3 gap-6">

                                <!-- Audits Completed -->
                                <div>
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="text-sm font-semibold text-text-secondary">Sites Active</span>
                                        <span class="text-xs px-2 py-1 bg-success bg-opacity-10 text-success rounded-full">+0%</span>
                                    </div>
                                    <div class="text-3xl font-bold text-text-primary mb-2">5/5</div>
                                    <div class="progress-bar">
                                        <div class="progress-fill success" style="width: 100%"></div>
                                    </div>
                                    <p class="text-xs text-text-muted mt-1">All sites operational</p>
                                </div>

                                <!-- Keywords Tracked -->
                                <div>
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="text-sm font-semibold text-text-secondary">Content Queue</span>
                                        <span class="text-xs px-2 py-1 bg-primary bg-opacity-10 text-primary rounded-full">+15%</span>
                                    </div>
                                    <div class="text-3xl font-bold text-text-primary mb-2">23</div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 46%"></div>
                                    </div>
                                    <p class="text-xs text-text-muted mt-1">46% of target (50 posts)</p>
                                </div>

                                <!-- Active Sessions -->
                                <div>
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="text-sm font-semibold text-text-secondary">Leads This Week</span>
                                        <span class="text-xs px-2 py-1 bg-success bg-opacity-10 text-success rounded-full">+12%</span>
                                    </div>
                                    <div class="text-3xl font-bold text-text-primary mb-2">47</div>
                                    <div class="progress-bar">
                                        <div class="progress-fill success" style="width: 78%"></div>
                                    </div>
                                    <p class="text-xs text-text-muted mt-1">78% of weekly goal (60 leads)</p>
                                </div>

                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <!-- Enhanced Stat Cards -->

                        <!-- Active Sites Card -->
                        <div class="stat-card">
                            <div class="flex-1">
                                <div class="flex items-center justify-between mb-2">
                                    <p class="stat-label">Active Sites</p>
                                    <span class="flex items-center text-xs text-success">
                                        <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path>
                                        </svg>
                                        +0%
                                    </span>
                                </div>
                                <p class="stat-value">5/5</p>
                                <p class="stat-subtitle text-success">Perfect uptime</p>
                                <!-- Progress Bar -->
                                <div class="progress-bar mt-3">
                                    <div class="progress-fill success" style="width: 100%"></div>
                                </div>
                            </div>
                            <div class="stat-icon" style="background: rgba(16, 185, 129, 0.1);">
                                <svg class="w-6 h-6 text-success" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                            </div>
                        </div>

                        <!-- Content Queue Card -->
                        <div class="stat-card">
                            <div class="flex-1">
                                <div class="flex items-center justify-between mb-2">
                                    <p class="stat-label">Content Queue</p>
                                    <span class="flex items-center text-xs text-primary">
                                        <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path>
                                        </svg>
                                        +15%
                                    </span>
                                </div>
                                <p class="stat-value">23</p>
                                <p class="stat-subtitle text-primary">Scheduled posts</p>
                                <!-- Progress Bar -->
                                <div class="progress-bar mt-3">
                                    <div class="progress-fill" style="width: 46%"></div>
                                </div>
                            </div>
                            <div class="stat-icon" style="background: rgba(37, 99, 235, 0.1);">
                                <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                                </svg>
                            </div>
                        </div>

                        <!-- Today's Visitors Card -->
                        <div class="stat-card">
                            <div class="flex-1">
                                <div class="flex items-center justify-between mb-2">
                                    <p class="stat-label">Today's Visitors</p>
                                    <span class="flex items-center text-xs text-gold">
                                        <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path>
                                        </svg>
                                        +8%
                                    </span>
                                </div>
                                <p class="stat-value">423</p>
                                <p class="stat-subtitle text-gold">Unique visits</p>
                                <!-- Progress Bar -->
                                <div class="progress-bar mt-3">
                                    <div class="progress-fill warning" style="width: 71%"></div>
                                </div>
                            </div>
                            <div class="stat-icon" style="background: rgba(245, 158, 11, 0.1);">
                                <svg class="w-6 h-6 text-gold" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                                </svg>
                            </div>
                        </div>

                        <!-- Leads This Week Card -->
                        <div class="stat-card">
                            <div class="flex-1">
                                <div class="flex items-center justify-between mb-2">
                                    <p class="stat-label">Leads This Week</p>
                                    <span class="flex items-center text-xs text-success">
                                        <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path>
                                        </svg>
                                        +12%
                                    </span>
                                </div>
                                <p class="stat-value">47</p>
                                <p class="stat-subtitle text-success">Conversion rate 4.2%</p>
                                <!-- Progress Bar -->
                                <div class="progress-bar mt-3">
                                    <div class="progress-fill success" style="width: 78%"></div>
                                </div>
                            </div>
                            <div class="stat-icon" style="background: rgba(16, 185, 129, 0.1);">
                                <svg class="w-6 h-6 text-success" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                                </svg>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Actions Section -->
                    <div class="mb-8">
                        <h3 class="text-2xl font-semibold mb-6">Quick Actions</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">

                            <!-- New Audit Action -->
                            <div @click="runAudit()" class="card clickable text-center hover:border-primary hover:border-opacity-40 transition-all duration-300 cursor-pointer">
                                <div class="flex flex-col items-center">
                                    <div class="w-16 h-16 rounded-full flex items-center justify-center mb-4 transition-transform duration-300 hover:scale-110" style="background: rgba(37, 99, 235, 0.1);">
                                        <svg class="w-8 h-8 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                        </svg>
                                    </div>
                                    <h4 class="text-lg font-semibold mb-2">New Audit</h4>
                                    <p class="text-sm text-text-secondary">Run comprehensive site audit</p>
                                </div>
                            </div>

                            <!-- Add Keyword Action -->
                            <div @click="addKeyword()" class="card clickable text-center hover:border-primary hover:border-opacity-40 transition-all duration-300 cursor-pointer">
                                <div class="flex flex-col items-center">
                                    <div class="w-16 h-16 rounded-full flex items-center justify-center mb-4 transition-transform duration-300 hover:scale-110" style="background: rgba(245, 158, 11, 0.1);">
                                        <svg class="w-8 h-8 text-gold" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                                        </svg>
                                    </div>
                                    <h4 class="text-lg font-semibold mb-2">Add Keyword</h4>
                                    <p class="text-sm text-text-secondary">Track new keyword rankings</p>
                                </div>
                            </div>

                            <!-- AI Chat Action -->
                            <div @click="openAIChat()" class="card clickable text-center hover:border-primary hover:border-opacity-40 transition-all duration-300 cursor-pointer">
                                <div class="flex flex-col items-center">
                                    <div class="w-16 h-16 rounded-full flex items-center justify-center mb-4 transition-transform duration-300 hover:scale-110" style="background: rgba(16, 185, 129, 0.1);">
                                        <svg class="w-8 h-8 text-success" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"></path>
                                        </svg>
                                    </div>
                                    <h4 class="text-lg font-semibold mb-2">AI Chat</h4>
                                    <p class="text-sm text-text-secondary">Get AI assistance and insights</p>
                                </div>
                            </div>

                            <!-- Settings Action -->
                            <div @click="openSettings()" class="card clickable text-center hover:border-primary hover:border-opacity-40 transition-all duration-300 cursor-pointer">
                                <div class="flex flex-col items-center">
                                    <div class="w-16 h-16 rounded-full flex items-center justify-center mb-4 transition-transform duration-300 hover:scale-110" style="background: rgba(168, 85, 247, 0.1);">
                                        <svg class="w-8 h-8" style="color: #a855f7;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                        </svg>
                                    </div>
                                    <h4 class="text-lg font-semibold mb-2">Settings</h4>
                                    <p class="text-sm text-text-secondary">Configure dashboard preferences</p>
                                </div>
                            </div>

                        </div>
                    </div>

                    <!-- Quick Status -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div class="card">
                            <h3 class="text-xl font-bold mb-4">Site Status</h3>
                            <div class="space-y-3">
                                <div class="flex items-center justify-between">
                                    <span>ai-projektmanager.de</span>
                                    <span class="px-3 py-1 bg-success bg-opacity-20 text-success rounded-full text-sm">Online</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span>aimarketingbg.com</span>
                                    <span class="px-3 py-1 bg-success bg-opacity-20 text-success rounded-full text-sm">Online</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span>classicsecurity.net</span>
                                    <span class="px-3 py-1 bg-success bg-opacity-20 text-success rounded-full text-sm">Online</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span>varna-agenten.de</span>
                                    <span class="px-3 py-1 bg-success bg-opacity-20 text-success rounded-full text-sm">Online</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span>varnaai.com</span>
                                    <span class="px-3 py-1 bg-success bg-opacity-20 text-success rounded-full text-sm">Online</span>
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <h3 class="text-xl font-bold mb-4">Recent Activity</h3>
                            <div class="space-y-3 text-sm">
                                <div class="flex items-start">
                                    <div class="w-2 h-2 mt-2 rounded-full bg-success mr-3"></div>
                                    <div>
                                        <p class="font-semibold">Content Published</p>
                                        <p class="text-gray-400">Blog post on AI Marketing - 2 hours ago</p>
                                    </div>
                                </div>
                                <div class="flex items-start">
                                    <div class="w-2 h-2 mt-2 rounded-full bg-primary mr-3"></div>
                                    <div>
                                        <p class="font-semibold">Campaign Launched</p>
                                        <p class="text-gray-400">Email campaign "Q4 Outreach" - 5 hours ago</p>
                                    </div>
                                </div>
                                <div class="flex items-start">
                                    <div class="w-2 h-2 mt-2 rounded-full bg-purple-start mr-3"></div>
                                    <div>
                                        <p class="font-semibold">SEO Update</p>
                                        <p class="text-gray-400">Rankings improved for 12 keywords - 1 day ago</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Other Tabs (WordPress, Content, Marketing, Analytics, Actions) -->
                <div x-show="activeTab === 'wordpress'" x-cloak>
                    <!-- WordPress Sites Grid -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                        <template x-for="site in sites" :key="site.id">
                            <div class="card hover:border-primary transition-colors">
                                <div class="flex items-start justify-between mb-4">
                                    <div>
                                        <h3 class="text-xl font-bold" x-text="site.name"></h3>
                                        <p class="text-sm text-gray-400" x-text="site.domain"></p>
                                    </div>
                                    <span class="px-3 py-1 bg-success bg-opacity-20 text-success rounded-full text-xs font-semibold">
                                        ONLINE
                                    </span>
                                </div>

                                <!-- Progress Bar -->
                                <div class="mb-4">
                                    <div class="flex justify-between text-sm mb-2">
                                        <span class="text-gray-400">Pages Created</span>
                                        <span class="font-semibold" x-text="`${site.pages}/${site.totalPages}`"></span>
                                    </div>
                                    <div class="w-full bg-gray-700 rounded-full h-2">
                                        <div class="bg-primary h-2 rounded-full transition-all"
                                             :style="`width: ${(site.pages / site.totalPages * 100)}%`"></div>
                                    </div>
                                </div>

                                <!-- SEO Score -->
                                <div class="mb-4">
                                    <div class="flex justify-between text-sm mb-2">
                                        <span class="text-gray-400">SEO Score</span>
                                        <span class="font-semibold"
                                              :class="site.seoScore > 80 ? 'text-success' : site.seoScore > 60 ? 'text-yellow-400' : 'text-alert'"
                                              x-text="`${site.seoScore}/100`"></span>
                                    </div>
                                    <div class="w-full bg-gray-700 rounded-full h-2">
                                        <div class="h-2 rounded-full transition-all"
                                             :class="site.seoScore > 80 ? 'bg-success' : site.seoScore > 60 ? 'bg-yellow-400' : 'bg-alert'"
                                             :style="`width: ${site.seoScore}%`"></div>
                                    </div>
                                </div>

                                <!-- Action Buttons -->
                                <div class="flex gap-3">
                                    <button @click="openWordPress(site)"
                                            class="flex-1 btn-primary text-sm">
                                        <svg class="w-4 h-4 inline mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"></path>
                                        </svg>
                                        Login to WP Admin
                                    </button>
                                    <button @click="openSite(site.url)"
                                            class="px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors text-sm">
                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                                        </svg>
                                    </button>
                                </div>

                                <!-- Language Badge -->
                                <div class="mt-3 pt-3 border-t border-border-dark flex items-center justify-between text-xs">
                                    <span class="text-gray-400">
                                        <span class="font-semibold" x-text="site.language.toUpperCase()"></span>
                                        · <span x-text="site.market"></span>
                                    </span>
                                    <a :href="site.adminUrl" target="_blank" class="text-primary hover:text-blue-400">
                                        Direct Admin Link →
                                    </a>
                                </div>
                            </div>
                        </template>
                    </div>

                    <!-- Portfolio Stats Summary -->
                    <div class="card">
                        <h3 class="text-xl font-bold mb-4">Portfolio Statistics</h3>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
                            <div class="text-center">
                                <p class="text-3xl font-bold text-success" x-text="siteStats.total"></p>
                                <p class="text-sm text-gray-400 mt-1">Total Sites</p>
                            </div>
                            <div class="text-center">
                                <p class="text-3xl font-bold text-success" x-text="siteStats.online + '/' + siteStats.total"></p>
                                <p class="text-sm text-gray-400 mt-1">Online</p>
                            </div>
                            <div class="text-center">
                                <p class="text-3xl font-bold text-primary" x-text="siteStats.totalPages"></p>
                                <p class="text-sm text-gray-400 mt-1">Pages Created</p>
                            </div>
                            <div class="text-center">
                                <p class="text-3xl font-bold text-purple-start" x-text="siteStats.avgSeoScore"></p>
                                <p class="text-sm text-gray-400 mt-1">Avg SEO Score</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div x-show="activeTab === 'content'" x-cloak>
                    <!-- Content Generation Grid -->
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">

                        <!-- Blog Post Generator -->
                        <div class="card">
                            <div class="flex items-center mb-4">
                                <svg class="w-6 h-6 text-primary mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                                </svg>
                                <h3 class="text-lg font-bold">Blog Post</h3>
                            </div>

                            <div class="space-y-3">
                                <div>
                                    <label class="block text-sm font-medium mb-1">Topic</label>
                                    <input type="text" x-model="blogTopic"
                                           placeholder="AI in Project Management"
                                           class="w-full bg-gray-700 border border-border-dark rounded-lg px-3 py-2 focus:outline-none focus:border-primary">
                                </div>

                                <div class="grid grid-cols-2 gap-3">
                                    <div>
                                        <label class="block text-sm font-medium mb-1">Language</label>
                                        <select x-model="blogLanguage"
                                                class="w-full bg-gray-700 border border-border-dark rounded-lg px-3 py-2 focus:outline-none focus:border-primary">
                                            <option value="de">German</option>
                                            <option value="en">English</option>
                                            <option value="bg">Bulgarian</option>
                                        </select>
                                    </div>

                                    <div>
                                        <label class="block text-sm font-medium mb-1">Tone</label>
                                        <select x-model="blogTone"
                                                class="w-full bg-gray-700 border border-border-dark rounded-lg px-3 py-2 focus:outline-none focus:border-primary">
                                            <option value="professional">Professional</option>
                                            <option value="casual">Casual</option>
                                            <option value="technical">Technical</option>
                                        </select>
                                    </div>
                                </div>

                                <button @click="generateBlog()"
                                        class="w-full btn-primary">
                                    Generate Blog Post
                                </button>
                            </div>
                        </div>

                        <!-- Social Media Generator -->
                        <div class="card">
                            <div class="flex items-center mb-4">
                                <svg class="w-6 h-6 text-purple-start mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"></path>
                                </svg>
                                <h3 class="text-lg font-bold">Social Media</h3>
                            </div>

                            <div class="space-y-3">
                                <div>
                                    <label class="block text-sm font-medium mb-1">Topic</label>
                                    <input type="text" x-model="socialTopic"
                                           placeholder="New AI Feature Launch"
                                           class="w-full bg-gray-700 border border-border-dark rounded-lg px-3 py-2 focus:outline-none focus:border-primary">
                                </div>

                                <div>
                                    <label class="block text-sm font-medium mb-1">Platforms</label>
                                    <div class="grid grid-cols-2 gap-2 text-sm">
                                        <label class="flex items-center">
                                            <input type="checkbox" x-model="socialPlatforms" value="facebook"
                                                   class="mr-2 rounded border-gray-600 bg-gray-700 text-primary focus:ring-primary">
                                            Facebook
                                        </label>
                                        <label class="flex items-center">
                                            <input type="checkbox" x-model="socialPlatforms" value="twitter"
                                                   class="mr-2 rounded border-gray-600 bg-gray-700 text-primary focus:ring-primary">
                                            Twitter/X
                                        </label>
                                        <label class="flex items-center">
                                            <input type="checkbox" x-model="socialPlatforms" value="linkedin"
                                                   class="mr-2 rounded border-gray-600 bg-gray-700 text-primary focus:ring-primary">
                                            LinkedIn
                                        </label>
                                        <label class="flex items-center">
                                            <input type="checkbox" x-model="socialPlatforms" value="instagram"
                                                   class="mr-2 rounded border-gray-600 bg-gray-700 text-primary focus:ring-primary">
                                            Instagram
                                        </label>
                                    </div>
                                </div>

                                <div>
                                    <label class="block text-sm font-medium mb-1">Language</label>
                                    <select x-model="socialLanguage"
                                            class="w-full bg-gray-700 border border-border-dark rounded-lg px-3 py-2 focus:outline-none focus:border-primary">
                                        <option value="de">German</option>
                                        <option value="en">English</option>
                                        <option value="bg">Bulgarian</option>
                                    </select>
                                </div>

                                <button @click="generateSocial()"
                                        class="w-full btn-primary">
                                    Generate Social Posts
                                </button>
                            </div>
                        </div>

                        <!-- Email Campaign Generator -->
                        <div class="card">
                            <div class="flex items-center mb-4">
                                <svg class="w-6 h-6 text-success mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                                </svg>
                                <h3 class="text-lg font-bold">Email Campaign</h3>
                            </div>

                            <div class="space-y-3">
                                <div>
                                    <label class="block text-sm font-medium mb-1">Subject</label>
                                    <input type="text" x-model="emailSubject"
                                           placeholder="Q4 Product Update"
                                           class="w-full bg-gray-700 border border-border-dark rounded-lg px-3 py-2 focus:outline-none focus:border-primary">
                                </div>

                                <div>
                                    <label class="block text-sm font-medium mb-1">Purpose</label>
                                    <select x-model="emailPurpose"
                                            class="w-full bg-gray-700 border border-border-dark rounded-lg px-3 py-2 focus:outline-none focus:border-primary">
                                        <option value="newsletter">Newsletter</option>
                                        <option value="promotion">Promotion</option>
                                        <option value="announcement">Announcement</option>
                                        <option value="update">Product Update</option>
                                    </select>
                                </div>

                                <div>
                                    <label class="block text-sm font-medium mb-1">Language</label>
                                    <select x-model="emailLanguage"
                                            class="w-full bg-gray-700 border border-border-dark rounded-lg px-3 py-2 focus:outline-none focus:border-primary">
                                        <option value="de">German</option>
                                        <option value="en">English</option>
                                        <option value="bg">Bulgarian</option>
                                    </select>
                                </div>

                                <button @click="generateEmail()"
                                        class="w-full btn-primary">
                                    Generate Email
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Generated Content Display -->
                    <div x-show="generatedContent" class="card" x-cloak>
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-xl font-bold">Generated Content</h3>
                            <button @click="copyContent()"
                                    class="px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors text-sm">
                                <svg class="w-4 h-4 inline mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                                </svg>
                                Copy to Clipboard
                            </button>
                        </div>

                        <div class="bg-gray-800 rounded-lg p-4 border border-border-dark">
                            <div x-html="generatedContent" class="prose prose-invert max-w-none"></div>
                        </div>

                        <div class="mt-4 flex gap-3">
                            <button @click="saveContent()"
                                    class="btn-primary">
                                Save to WordPress
                            </button>
                            <button @click="scheduleContent()"
                                    class="px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors">
                                Schedule Post
                            </button>
                            <button @click="exportContent()"
                                    class="px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors">
                                Export as File
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Marketing Tab -->
                <div x-show="activeTab === 'marketing'" x-cloak>
                    <div class="card mb-6">
                        <h3 class="text-2xl font-bold mb-4">Marketing Dashboard</h3>
                        <p class="text-text-secondary mb-6">Manage marketing campaigns, track performance, and analyze results across all sites.</p>

                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                            <div class="stat-card">
                                <div class="flex-1">
                                    <p class="stat-label">Active Campaigns</p>
                                    <p class="stat-value">12</p>
                                    <p class="stat-subtitle text-primary">3 new this week</p>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="flex-1">
                                    <p class="stat-label">Total Reach</p>
                                    <p class="stat-value">28.5K</p>
                                    <p class="stat-subtitle text-success">+18% vs last month</p>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="flex-1">
                                    <p class="stat-label">Conversion Rate</p>
                                    <p class="stat-value">4.2%</p>
                                    <p class="stat-subtitle text-gold">Industry average: 3.1%</p>
                                </div>
                            </div>
                        </div>

                        <p class="text-sm text-text-muted text-center py-8">Marketing analytics and campaign management tools coming soon.</p>
                    </div>
                </div>

                <!-- Analytics Tab -->
                <div x-show="activeTab === 'analytics'" x-cloak>
                    <div class="card mb-6">
                        <h3 class="text-2xl font-bold mb-4">Analytics Dashboard</h3>
                        <p class="text-text-secondary mb-6">Track website traffic, user behavior, and conversion metrics across your portfolio.</p>

                        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-6">
                            <div class="stat-card">
                                <div class="flex-1">
                                    <p class="stat-label">Total Visitors</p>
                                    <p class="stat-value">45.2K</p>
                                    <p class="stat-subtitle text-success">+22% this month</p>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="flex-1">
                                    <p class="stat-label">Page Views</p>
                                    <p class="stat-value">128K</p>
                                    <p class="stat-subtitle text-primary">2.8 pages/visit</p>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="flex-1">
                                    <p class="stat-label">Bounce Rate</p>
                                    <p class="stat-value">38%</p>
                                    <p class="stat-subtitle text-success">-5% improvement</p>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="flex-1">
                                    <p class="stat-label">Avg. Session</p>
                                    <p class="stat-value">3:42</p>
                                    <p class="stat-subtitle text-gold">+28s vs last month</p>
                                </div>
                            </div>
                        </div>

                        <p class="text-sm text-text-muted text-center py-8">Advanced analytics and reporting tools coming soon.</p>
                    </div>
                </div>

                <!-- Quick Actions Tab -->
                <div x-show="activeTab === 'actions'" x-cloak>
                    <div class="card mb-6">
                        <h3 class="text-2xl font-bold mb-4">Quick Actions Center</h3>
                        <p class="text-text-secondary mb-6">Frequently used actions and shortcuts for faster workflow management.</p>

                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <div class="card clickable hover:border-primary transition-all">
                                <div class="flex items-center mb-4">
                                    <div class="w-12 h-12 rounded-full bg-primary bg-opacity-10 flex items-center justify-center mr-4">
                                        <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                        </svg>
                                    </div>
                                    <h4 class="text-lg font-semibold">Run SEO Audit</h4>
                                </div>
                                <p class="text-sm text-text-secondary">Comprehensive site analysis</p>
                            </div>

                            <div class="card clickable hover:border-gold transition-all">
                                <div class="flex items-center mb-4">
                                    <div class="w-12 h-12 rounded-full bg-gold bg-opacity-10 flex items-center justify-center mr-4">
                                        <svg class="w-6 h-6 text-gold" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                                        </svg>
                                    </div>
                                    <h4 class="text-lg font-semibold">Add New Content</h4>
                                </div>
                                <p class="text-sm text-text-secondary">Generate blog posts and pages</p>
                            </div>

                            <div class="card clickable hover:border-success transition-all">
                                <div class="flex items-center mb-4">
                                    <div class="w-12 h-12 rounded-full bg-success bg-opacity-10 flex items-center justify-center mr-4">
                                        <svg class="w-6 h-6 text-success" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"></path>
                                        </svg>
                                    </div>
                                    <h4 class="text-lg font-semibold">AI Assistant</h4>
                                </div>
                                <p class="text-sm text-text-secondary">Get AI-powered insights</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- AI Settings Tab -->
                <div x-show="activeTab === 'settings'" x-cloak x-init="loadAIStatus()">
                    <!-- Provider Status Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                        <!-- Ollama Card -->
                        <div class="card">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-lg font-semibold">Ollama (Local)</h3>
                                <div class="flex items-center">
                                    <div :class="ai.providers.ollama?.status === 'online' ? 'bg-success' : 'bg-alert'" class="w-3 h-3 rounded-full mr-2"></div>
                                    <span class="text-xs font-semibold" x-text="ai.providers.ollama?.status || 'checking...'"></span>
                                </div>
                            </div>
                            <p class="text-sm text-text-secondary mb-4" x-text="ai.providers.ollama?.model || 'llama3.1:8b'"></p>
                            <div class="space-y-2 text-sm">
                                <div class="flex justify-between">
                                    <span class="text-text-muted">Response Time:</span>
                                    <span class="font-medium" x-text="(ai.providers.ollama?.responseTime || 0) + 'ms'"></span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-text-muted">Cost:</span>
                                    <span class="font-medium text-success">FREE</span>
                                </div>
                            </div>
                        </div>

                        <!-- Claude Card -->
                        <div class="card">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-lg font-semibold">Claude (API)</h3>
                                <div class="flex items-center">
                                    <div :class="ai.providers.claude?.status === 'online' ? 'bg-success' : 'bg-alert'" class="w-3 h-3 rounded-full mr-2"></div>
                                    <span class="text-xs font-semibold" x-text="ai.providers.claude?.status || 'checking...'"></span>
                                </div>
                            </div>
                            <p class="text-sm text-text-secondary mb-4" x-text="ai.providers.claude?.model || 'claude-3-haiku-20240307'"></p>
                            <div class="space-y-2 text-sm">
                                <div class="flex justify-between">
                                    <span class="text-text-muted">Response Time:</span>
                                    <span class="font-medium" x-text="(ai.providers.claude?.responseTime || 0) + 'ms'"></span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-text-muted">Cost:</span>
                                    <span class="font-medium text-gold">$0.025/req</span>
                                </div>
                            </div>
                        </div>

                        <!-- LM Studio Card -->
                        <div class="card">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-lg font-semibold">LM Studio (Local)</h3>
                                <div class="flex items-center">
                                    <div :class="ai.providers.lmStudio?.status === 'online' ? 'bg-success' : 'bg-alert'" class="w-3 h-3 rounded-full mr-2"></div>
                                    <span class="text-xs font-semibold" x-text="ai.providers.lmStudio?.status || 'checking...'"></span>
                                </div>
                            </div>
                            <p class="text-sm text-text-secondary mb-4" x-text="ai.providers.lmStudio?.model || 'mistralai/mistral-7b-instruct-v0.3'"></p>
                            <div class="space-y-2 text-sm">
                                <div class="flex justify-between">
                                    <span class="text-text-muted">Response Time:</span>
                                    <span class="font-medium" x-text="(ai.providers.lmStudio?.responseTime || 0) + 'ms'"></span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-text-muted">Cost:</span>
                                    <span class="font-medium text-success">FREE</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Model Configuration -->
                    <div class="card mb-8">
                        <h3 class="text-xl font-bold mb-6">Model Configuration</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                            <div class="relative z-50">
                                <label class="block text-sm font-medium mb-2">Ollama Model</label>
                                <select x-model="ai.config.modelSelection.ollama" class="w-full bg-gray-700 border border-border-dark rounded-lg px-4 py-2 relative z-50">
                                    <template x-for="model in ai.models.ollama" :key="model">
                                        <option :value="model" x-text="model"></option>
                                    </template>
                                </select>
                            </div>
                            <div class="relative z-50">
                                <label class="block text-sm font-medium mb-2">Claude Model</label>
                                <select x-model="ai.config.modelSelection.claude" class="w-full bg-gray-700 border border-border-dark rounded-lg px-4 py-2 relative z-50">
                                    <template x-for="model in ai.models.claude" :key="model">
                                        <option :value="model" x-text="model"></option>
                                    </template>
                                </select>
                            </div>
                            <div class="relative z-50">
                                <label class="block text-sm font-medium mb-2">LM Studio Model</label>
                                <select x-model="ai.config.modelSelection.lmStudio" class="w-full bg-gray-700 border border-border-dark rounded-lg px-4 py-2 relative z-50">
                                    <template x-for="model in ai.models.lmStudio" :key="model">
                                        <option :value="model" x-text="model"></option>
                                    </template>
                                </select>
                            </div>
                        </div>

                        <h4 class="text-lg font-semibold mb-4">Default Provider Selection</h4>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                            <div class="relative z-50">
                                <label class="block text-sm font-medium mb-2">Blog Posts</label>
                                <select x-model="ai.config.defaultProviders.blog" class="w-full bg-gray-700 border border-border-dark rounded-lg px-4 py-2 relative z-50">
                                    <option value="claude">Claude (Best Quality)</option>
                                    <option value="lm-studio">LM Studio (Fast, Free)</option>
                                    <option value="ollama">Ollama (Fallback)</option>
                                </select>
                            </div>
                            <div class="relative z-50">
                                <label class="block text-sm font-medium mb-2">Social Media</label>
                                <select x-model="ai.config.defaultProviders.social" class="w-full bg-gray-700 border border-border-dark rounded-lg px-4 py-2 relative z-50">
                                    <option value="claude">Claude</option>
                                    <option value="lm-studio">LM Studio</option>
                                    <option value="ollama">Ollama</option>
                                </select>
                            </div>
                            <div class="relative z-50">
                                <label class="block text-sm font-medium mb-2">Email Campaigns</label>
                                <select x-model="ai.config.defaultProviders.email" class="w-full bg-gray-700 border border-border-dark rounded-lg px-4 py-2 relative z-50">
                                    <option value="claude">Claude</option>
                                    <option value="lm-studio">LM Studio</option>
                                    <option value="ollama">Ollama</option>
                                </select>
                            </div>
                        </div>

                        <div class="relative z-50">
                            <button @click="saveAIConfig()" class="btn-primary relative z-50">Save Configuration</button>
                        </div>
                    </div>

                    <!-- Cost Tracking -->
                    <div class="card mb-8">
                        <h3 class="text-xl font-bold mb-6">Cost Tracking</h3>
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-6">
                            <div class="stat-card">
                                <div class="stat-label">Today</div>
                                <div class="stat-value text-3xl" x-text="'$' + (ai.costs?.today?.total || 0)"></div>
                                <div class="stat-subtitle" x-text="'Claude: $' + (ai.costs?.today?.claude || 0)"></div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-label">This Week</div>
                                <div class="stat-value text-3xl" x-text="'$' + (ai.costs?.thisWeek?.total || 0)"></div>
                                <div class="stat-subtitle" x-text="'Claude: $' + (ai.costs?.thisWeek?.claude || 0)"></div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-label">This Month</div>
                                <div class="stat-value text-3xl" x-text="'$' + (ai.costs?.thisMonth?.total || 0)"></div>
                                <div class="stat-subtitle" x-text="'Claude: $' + (ai.costs?.thisMonth?.claude || 0)"></div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-label">Monthly Projection</div>
                                <div class="stat-value text-3xl text-gold" x-text="'$' + (ai.costs?.projection?.monthly || 0)"></div>
                                <div class="stat-subtitle">Estimated</div>
                            </div>
                        </div>
                    </div>

                    <!-- Performance Metrics -->
                    <div class="card">
                        <h3 class="text-xl font-bold mb-6">Performance Metrics</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div>
                                <h4 class="font-semibold mb-4">Ollama</h4>
                                <div class="space-y-3 text-sm">
                                    <div class="flex justify-between">
                                        <span class="text-text-muted">Requests:</span>
                                        <span class="font-medium" x-text="ai.usage?.ollama?.requests || 0"></span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-text-muted">Avg Response:</span>
                                        <span class="font-medium" x-text="(ai.usage?.ollama?.avgResponseTime || 0) + 'ms'"></span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-text-muted">Success Rate:</span>
                                        <span class="font-medium" x-text="(ai.usage?.ollama?.successRate || 0) + '%'"></span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-text-muted">Uptime:</span>
                                        <span class="font-medium" x-text="(ai.usage?.ollama?.uptime || 0) + '%'"></span>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <h4 class="font-semibold mb-4">Claude</h4>
                                <div class="space-y-3 text-sm">
                                    <div class="flex justify-between">
                                        <span class="text-text-muted">Requests:</span>
                                        <span class="font-medium" x-text="ai.usage?.claude?.requests || 0"></span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-text-muted">Avg Response:</span>
                                        <span class="font-medium" x-text="(ai.usage?.claude?.avgResponseTime || 0) + 'ms'"></span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-text-muted">Success Rate:</span>
                                        <span class="font-medium" x-text="(ai.usage?.claude?.successRate || 0) + '%'"></span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-text-muted">Uptime:</span>
                                        <span class="font-medium" x-text="(ai.usage?.claude?.uptime || 0) + '%'"></span>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <h4 class="font-semibold mb-4">LM Studio</h4>
                                <div class="space-y-3 text-sm">
                                    <div class="flex justify-between">
                                        <span class="text-text-muted">Requests:</span>
                                        <span class="font-medium" x-text="ai.usage?.lmStudio?.requests || 0"></span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-text-muted">Avg Response:</span>
                                        <span class="font-medium" x-text="(ai.usage?.lmStudio?.avgResponseTime || 0) + 'ms'"></span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-text-muted">Success Rate:</span>
                                        <span class="font-medium" x-text="(ai.usage?.lmStudio?.successRate || 0) + '%'"></span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-text-muted">Uptime:</span>
                                        <span class="font-medium" x-text="(ai.usage?.lmStudio?.uptime || 0) + '%'"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- GPU Recommendations for Local LLM -->
                    <div class="card">
                        <h3 class="text-xl font-bold mb-6">GPU Recommendations for Local LLM</h3>
                        <p class="text-text-muted mb-6">Hardware recommendations for running Ollama and LM Studio locally with optimal performance.</p>

                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <!-- RTX 3070 -->
                            <div class="bg-gray-800 border border-border-dark rounded-lg p-6">
                                <div class="flex items-center justify-between mb-4">
                                    <h4 class="font-semibold text-lg">NVIDIA RTX 3070</h4>
                                    <span class="badge-warning">Entry Level</span>
                                </div>
                                <div class="space-y-3 text-sm mb-4">
                                    <div class="flex justify-between">
                                        <span class="text-text-muted">VRAM:</span>
                                        <span class="font-medium">8GB GDDR6</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-text-muted">CUDA Cores:</span>
                                        <span class="font-medium">5,888</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-text-muted">TDP:</span>
                                        <span class="font-medium">220W</span>
                                    </div>
                                </div>
                                <div class="border-t border-border-dark pt-4 mb-4">
                                    <h5 class="font-semibold mb-2 text-sm">Recommended Models:</h5>
                                    <ul class="space-y-1 text-sm text-text-muted">
                                        <li>✅ Llama 3.1 8B (good)</li>
                                        <li>✅ Mistral 7B (good)</li>
                                        <li>⚠️ Llama 3.1 13B (slow)</li>
                                        <li>❌ Llama 3.1 70B (not viable)</li>
                                    </ul>
                                </div>
                                <div class="bg-gray-900 rounded p-3 text-xs">
                                    <p class="text-text-muted"><strong>Best for:</strong> Light workloads, testing, small models (7B-8B parameters). Expect 10-15 tokens/sec with 8B models.</p>
                                </div>
                            </div>

                            <!-- RTX 4070 -->
                            <div class="bg-gray-800 border-2 border-gold rounded-lg p-6">
                                <div class="flex items-center justify-between mb-4">
                                    <h4 class="font-semibold text-lg">NVIDIA RTX 4070</h4>
                                    <span class="badge-success">Recommended</span>
                                </div>
                                <div class="space-y-3 text-sm mb-4">
                                    <div class="flex justify-between">
                                        <span class="text-text-muted">VRAM:</span>
                                        <span class="font-medium">12GB GDDR6X</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-text-muted">CUDA Cores:</span>
                                        <span class="font-medium">5,888</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-text-muted">TDP:</span>
                                        <span class="font-medium">200W</span>
                                    </div>
                                </div>
                                <div class="border-t border-border-dark pt-4 mb-4">
                                    <h5 class="font-semibold mb-2 text-sm">Recommended Models:</h5>
                                    <ul class="space-y-1 text-sm text-text-muted">
                                        <li>✅ Llama 3.1 8B (excellent)</li>
                                        <li>✅ Mistral 7B (excellent)</li>
                                        <li>✅ Llama 3.1 13B (good)</li>
                                        <li>⚠️ Llama 3.1 70B (requires quantization)</li>
                                    </ul>
                                </div>
                                <div class="bg-gray-900 rounded p-3 text-xs">
                                    <p class="text-text-muted"><strong>Best for:</strong> Production use, 13B models, multi-tasking. Expect 20-30 tokens/sec with 8B models, 8-12 tokens/sec with 13B models. <strong>Best price/performance ratio.</strong></p>
                                </div>
                            </div>

                            <!-- RTX 5070 -->
                            <div class="bg-gray-800 border border-border-dark rounded-lg p-6">
                                <div class="flex items-center justify-between mb-4">
                                    <h4 class="font-semibold text-lg">NVIDIA RTX 5070</h4>
                                    <span class="badge-info">Future-Proof</span>
                                </div>
                                <div class="space-y-3 text-sm mb-4">
                                    <div class="flex justify-between">
                                        <span class="text-text-muted">VRAM:</span>
                                        <span class="font-medium">16GB GDDR7</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-text-muted">CUDA Cores:</span>
                                        <span class="font-medium">~7,000 (est)</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-text-muted">TDP:</span>
                                        <span class="font-medium">220W (est)</span>
                                    </div>
                                </div>
                                <div class="border-t border-border-dark pt-4 mb-4">
                                    <h5 class="font-semibold mb-2 text-sm">Recommended Models:</h5>
                                    <ul class="space-y-1 text-sm text-text-muted">
                                        <li>✅ Llama 3.1 8B (excellent)</li>
                                        <li>✅ Mistral 7B (excellent)</li>
                                        <li>✅ Llama 3.1 13B (excellent)</li>
                                        <li>✅ Llama 3.1 70B (4-bit quantized)</li>
                                    </ul>
                                </div>
                                <div class="bg-gray-900 rounded p-3 text-xs">
                                    <p class="text-text-muted"><strong>Best for:</strong> Future-proofing, larger models, professional workflows. Expect 30-40 tokens/sec with 8B models, 15-20 tokens/sec with 13B models. Can handle 70B models with quantization.</p>
                                </div>
                            </div>
                        </div>

                        <!-- System Requirements -->
                        <div class="mt-6 p-4 bg-gray-800 border border-border-dark rounded-lg">
                            <h4 class="font-semibold mb-3">System Requirements (All GPUs)</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                                <div>
                                    <p class="text-text-muted mb-2"><strong>Minimum System RAM:</strong></p>
                                    <ul class="space-y-1 text-text-muted ml-4">
                                        <li>• 16GB for 7B-8B models</li>
                                        <li>• 32GB for 13B models</li>
                                        <li>• 64GB for 70B models (quantized)</li>
                                    </ul>
                                </div>
                                <div>
                                    <p class="text-text-muted mb-2"><strong>Other Requirements:</strong></p>
                                    <ul class="space-y-1 text-text-muted ml-4">
                                        <li>• PSU: 650W+ (750W recommended)</li>
                                        <li>• CPU: Modern 6-core+ (Ryzen 5/Intel i5)</li>
                                        <li>• Storage: NVMe SSD (models are 4-40GB)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Performance Tips -->
                        <div class="mt-4 p-4 bg-blue-900 bg-opacity-20 border border-blue-700 rounded-lg">
                            <h4 class="font-semibold mb-2 flex items-center">
                                <svg class="w-5 h-5 mr-2 text-blue-400" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/>
                                </svg>
                                Performance Tips
                            </h4>
                            <ul class="space-y-1 text-sm text-text-muted ml-7">
                                <li>• <strong>Quantization:</strong> Use 4-bit or 8-bit quantized models to fit larger models on smaller GPUs</li>
                                <li>• <strong>Context Length:</strong> Reduce context window (e.g., 2048 tokens) to save VRAM</li>
                                <li>• <strong>Batch Size:</strong> Set batch size to 1 for interactive use, higher for bulk processing</li>
                                <li>• <strong>Temperature:</strong> Lower temperature (0.3-0.7) for faster, more deterministic responses</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Model Recommendations for Content Generation -->
                    <div class="card mt-6">
                        <h3 class="text-xl font-bold mb-6">Best LM Studio Models for Content Generation (2025 Research)</h3>
                        <p class="text-text-muted mb-6">Research-backed model recommendations for optimal performance in structured output (JSON) and creative content generation.</p>

                        <!-- JSON/Structured Output Section -->
                        <div class="mb-8">
                            <h4 class="text-lg font-semibold mb-4 flex items-center">
                                <svg class="w-5 h-5 mr-2 text-blue-400" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z" clip-rule="evenodd"/>
                                </svg>
                                Best for JSON/Structured Output
                            </h4>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <!-- Qwen 2.5 Coder -->
                                <div class="border border-green-700 bg-green-900 bg-opacity-20 rounded-lg p-4">
                                    <div class="flex justify-between items-start mb-2">
                                        <h5 class="font-semibold text-green-400">Qwen 2.5 Coder</h5>
                                        <span class="px-2 py-1 bg-green-900 bg-opacity-50 text-green-300 text-xs rounded">TOP CHOICE</span>
                                    </div>
                                    <p class="text-sm text-text-muted mb-2">88.4% benchmark score - Best instruction-following for structured data (JSON, tables)</p>
                                    <ul class="space-y-1 text-xs text-text-muted">
                                        <li>✅ Superior JSON generation</li>
                                        <li>✅ 1M token context window</li>
                                        <li>✅ Improved structured output in 2.5</li>
                                        <li>✅ Available: 1.5B, 7B, 14B, 32B</li>
                                    </ul>
                                </div>

                                <!-- Hermes 2 Pro -->
                                <div class="border border-border-dark rounded-lg p-4">
                                    <div class="flex justify-between items-start mb-2">
                                        <h5 class="font-semibold">Hermes 2 Pro - Mistral 7B</h5>
                                        <span class="px-2 py-1 bg-blue-900 bg-opacity-30 text-blue-400 text-xs rounded">EXCELLENT</span>
                                    </div>
                                    <p class="text-sm text-text-muted mb-2">91% function calling success rate, 84% JSON mode accuracy</p>
                                    <ul class="space-y-1 text-xs text-text-muted">
                                        <li>✅ Best function calling</li>
                                        <li>✅ High JSON mode success</li>
                                        <li>✅ Fast 7B parameter size</li>
                                        <li>✅ Multi-turn conversations</li>
                                    </ul>
                                </div>

                                <!-- DeepSeek Coder 33B -->
                                <div class="border border-purple-700 bg-purple-900 bg-opacity-20 rounded-lg p-4">
                                    <div class="flex justify-between items-start mb-2">
                                        <h5 class="font-semibold text-purple-400">DeepSeek Coder 33B</h5>
                                        <span class="px-2 py-1 bg-purple-900 bg-opacity-50 text-purple-300 text-xs rounded">YOUR MODEL</span>
                                    </div>
                                    <p class="text-sm text-text-muted mb-2">SOLID CHOICE - 87 languages, optimized for code generation</p>
                                    <ul class="space-y-1 text-xs text-text-muted">
                                        <li>✅ Excellent code understanding</li>
                                        <li>✅ Strong JSON generation</li>
                                        <li>✅ 33B parameter size</li>
                                        <li>✅ You already have this loaded!</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Creative Content Section -->
                        <div class="mb-6">
                            <h4 class="text-lg font-semibold mb-4 flex items-center">
                                <svg class="w-5 h-5 mr-2 text-purple-400" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M12.316 3.051a1 1 0 01.633 1.265l-4 12a1 1 0 11-1.898-.632l4-12a1 1 0 011.265-.633zM5.707 6.293a1 1 0 010 1.414L3.414 10l2.293 2.293a1 1 0 11-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0zm8.586 0a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 11-1.414-1.414L16.586 10l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd"/>
                                </svg>
                                Best for Creative Content & Blog Posts
                            </h4>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <!-- Qwen 3 -->
                                <div class="border border-border-dark rounded-lg p-4">
                                    <h5 class="font-semibold mb-2">Qwen 3 Series</h5>
                                    <p class="text-sm text-text-muted mb-2">Leading open-source for creative writing in 2025</p>
                                    <ul class="space-y-1 text-xs text-text-muted">
                                        <li>✅ Qwen3-235B-A22B (largest)</li>
                                        <li>✅ Qwen3-14B (balanced)</li>
                                        <li>✅ Excellent creative capability</li>
                                    </ul>
                                </div>

                                <!-- DeepSeek-V3 -->
                                <div class="border border-border-dark rounded-lg p-4">
                                    <h5 class="font-semibold mb-2">DeepSeek-V3</h5>
                                    <p class="text-sm text-text-muted mb-2">Top 3 for creative capabilities</p>
                                    <ul class="space-y-1 text-xs text-text-muted">
                                        <li>✅ Strong creative writing</li>
                                        <li>✅ Balanced reasoning</li>
                                        <li>✅ V3 improvements over V2</li>
                                    </ul>
                                </div>

                                <!-- Llama 3/4 -->
                                <div class="border border-border-dark rounded-lg p-4">
                                    <h5 class="font-semibold mb-2">Llama 3 / Llama 4</h5>
                                    <p class="text-sm text-text-muted mb-2">Strong for SEO and brand-focused content</p>
                                    <ul class="space-y-1 text-xs text-text-muted">
                                        <li>✅ SEO-driven content</li>
                                        <li>✅ Brand consistency</li>
                                        <li>✅ Available: 8B, 70B, 405B</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Use Case Recommendations -->
                        <div class="p-4 bg-blue-900 bg-opacity-20 border border-blue-700 rounded-lg">
                            <h4 class="font-semibold mb-3 flex items-center">
                                <svg class="w-5 h-5 mr-2 text-blue-400" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/>
                                </svg>
                                Recommended Models by Use Case
                            </h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                                <div>
                                    <p class="font-semibold text-green-400 mb-1">Blog Posts:</p>
                                    <p class="text-text-muted ml-4">• Qwen 2.5 Coder (best structure)</p>
                                    <p class="text-text-muted ml-4">• DeepSeek Coder 33B (your choice)</p>
                                    <p class="text-text-muted ml-4">• Mistral Nemo/Codestral</p>
                                </div>
                                <div>
                                    <p class="font-semibold text-blue-400 mb-1">Social Media:</p>
                                    <p class="text-text-muted ml-4">• Qwen 3 models (creative)</p>
                                    <p class="text-text-muted ml-4">• DeepSeek-V3 (balanced)</p>
                                    <p class="text-text-muted ml-4">• Hermes 2 Pro (conversational)</p>
                                </div>
                                <div>
                                    <p class="font-semibold text-purple-400 mb-1">SEO Content:</p>
                                    <p class="text-text-muted ml-4">• Llama 3 (SEO-optimized)</p>
                                    <p class="text-text-muted ml-4">• Qwen 2.5 Coder (structured)</p>
                                    <p class="text-text-muted ml-4">• DeepSeek Coder (technical)</p>
                                </div>
                                <div>
                                    <p class="font-semibold text-orange-400 mb-1">JSON Generation:</p>
                                    <p class="text-text-muted ml-4">• <strong>Qwen 2.5 Coder</strong> (88.4% best)</p>
                                    <p class="text-text-muted ml-4">• Hermes 2 Pro (91% function calling)</p>
                                    <p class="text-text-muted ml-4">• Nemotron-mini 4B (efficient)</p>
                                </div>
                            </div>
                            <div class="mt-4 pt-4 border-t border-blue-700">
                                <p class="text-xs text-text-muted">
                                    <strong>Note:</strong> Your current DeepSeek Coder 33B is a solid choice for all content generation tasks. For maximum JSON accuracy, consider trying Qwen 2.5 Coder. For creative blog posts, Qwen 3 or DeepSeek-V3 offer excellent results.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </main>

        <!-- AI Chat Modal -->
    <div x-show="chatOpen"
         x-transition:enter="transition ease-out duration-300"
         x-transition:enter-start="opacity-0"
         x-transition:enter-end="opacity-100"
         x-transition:leave="transition ease-in duration-200"
         x-transition:leave-start="opacity-100"
         x-transition:leave-end="opacity-0"
         class="fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-6"
         @click.self="closeAIChat()"
         style="display: none;">

        <div class="bg-card-dark rounded-xl shadow-2xl max-w-4xl w-full max-h-[85vh] flex flex-col border border-border-dark"
             style="width: 900px; max-width: 90vw;"
             @click.stop>

            <!-- Chat Header -->
            <div class="flex items-center justify-between px-6 py-4 border-b border-border-dark">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 rounded-full bg-primary bg-opacity-10 flex items-center justify-center">
                        <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"></path>
                        </svg>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold">AI Assistant</h3>
                        <p class="text-xs text-text-muted">Powered by <span x-text="chatProvider === 'ollama' ? 'Ollama' : chatProvider === 'claude' ? 'Claude' : 'LM Studio'"></span></p>
                    </div>
                </div>
                <div class="flex items-center space-x-2">
                    <!-- AI Provider Selector -->
                    <select x-model="chatProvider"
                            class="bg-surface-dark border border-border-dark rounded px-3 py-2 text-sm focus:outline-none focus:border-primary text-white font-medium"
                            style="color: white; background-color: #1e293b;">
                        <option value="ollama" style="background-color: #1e293b; color: white;">Ollama</option>
                        <option value="claude" style="background-color: #1e293b; color: white;">Claude</option>
                        <option value="lmStudio" style="background-color: #1e293b; color: white;">LM Studio</option>
                    </select>
                    <button @click="clearChatHistory()"
                            class="p-2 hover:bg-surface-dark rounded-lg transition-colors"
                            title="Clear chat history">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                        </svg>
                    </button>
                    <button @click="closeAIChat()"
                            class="p-2 hover:bg-surface-dark rounded-lg transition-colors">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Chat Messages -->
            <div class="flex-1 overflow-y-auto p-6 space-y-4 chat-messages bg-surface-dark bg-opacity-30">
                <template x-for="(msg, index) in chatMessages" :key="index">
                    <div :class="msg.role === 'user' ? 'flex justify-end' : 'flex justify-start'">
                        <div :class="msg.role === 'user' ? 'bg-primary text-white' : 'bg-card-dark border border-border-dark text-white'"
                             class="max-w-[80%] rounded-lg px-5 py-4 shadow-md">
                            <p class="text-base leading-relaxed whitespace-pre-wrap" x-text="msg.content"></p>
                            <span class="text-xs opacity-70 mt-2 block" x-text="msg.timestamp"></span>
                        </div>
                    </div>
                </template>

                <!-- Loading Indicator -->
                <div x-show="chatLoading" class="flex justify-start">
                    <div class="bg-card-dark border border-border-dark rounded-lg px-4 py-3">
                        <div class="flex space-x-2">
                            <div class="w-2 h-2 bg-primary rounded-full animate-bounce" style="animation-delay: 0ms"></div>
                            <div class="w-2 h-2 bg-primary rounded-full animate-bounce" style="animation-delay: 150ms"></div>
                            <div class="w-2 h-2 bg-primary rounded-full animate-bounce" style="animation-delay: 300ms"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Chat Input -->
            <div class="px-6 py-4 border-t border-border-dark bg-surface-dark bg-opacity-50">
                <form @submit.prevent="sendChatMessage()" class="flex space-x-3">
                    <input type="text"
                           x-model="chatInput"
                           :disabled="chatLoading"
                           placeholder="Type your message..."
                           class="flex-1 bg-card-dark border border-border-dark rounded-lg px-4 py-3 focus:outline-none focus:border-primary disabled:opacity-50 disabled:cursor-not-allowed"
                           @keydown.enter.prevent="sendChatMessage()">
                    <button type="submit"
                            :disabled="!chatInput.trim() || chatLoading"
                            class="btn-primary px-6 py-3 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2">
                        <span>Send</span>
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                        </svg>
                    </button>
                </form>
                <p class="text-xs text-text-muted mt-2">Press Enter to send • AI responses require backend configuration</p>
            </div>

        </div>
    </div>

    </div>
    <!-- /End of x-data="dashboard()" container -->

    <!-- Alpine.js Dashboard Logic -->
    <script>
        function dashboard() {
            return {
                activeTab: 'dashboard',
                sites: [],
                siteStats: {
                    total: 0,
                    online: 0,
                    totalPages: 0,
                    avgSeoScore: 0
                },

                // Content Generation Form Fields
                blogTopic: '',
                blogLanguage: 'de',
                blogTone: 'professional',
                socialTopic: '',
                socialPlatforms: [],
                socialLanguage: 'de',
                emailSubject: '',
                emailPurpose: 'newsletter',
                emailLanguage: 'de',
                generatedContent: '',

                // Loading & Message States
                loading: {
                    sites: false,
                    marketing: false,
                    analytics: false,
                    content: false,
                    actions: false
                },
                message: {
                    type: '', // success, error, info
                    text: '',
                    visible: false
                },

                // AI Chat State
                chatOpen: false,
                chatMessages: [],
                chatInput: '',
                chatProvider: 'ollama', // ollama, claude, lmStudio
                chatLoading: false,

                init() {
                    this.loadSites();
                },

                showMessage(type, text) {
                    this.message = { type, text, visible: true };
                    setTimeout(() => {
                        this.message.visible = false;
                    }, 5000);
                },

                async loadSites() {
                    this.loading.sites = true;
                    try {
                        const response = await fetch('/api/wordpress/sites');
                        const data = await response.json();

                        if (data.success) {
                            this.sites = data.sites;
                            this.siteStats = data.stats;
                            this.showMessage('success', 'WordPress sites loaded successfully');
                        }
                    } catch (error) {
                        console.error('Failed to load sites:', error);
                        this.showMessage('error', 'Failed to load WordPress sites');
                    } finally {
                        this.loading.sites = false;
                    }
                },

                async openWordPress(site) {
                    try {
                        const response = await fetch('/api/wordpress/login', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify({ siteId: site.id })
                        });

                        const data = await response.json();

                        if (data.success) {
                            // Open WordPress admin in new tab
                            window.open(data.url, '_blank');
                            console.log(`Opening ${site.name} admin panel`);
                        }
                    } catch (error) {
                        console.error('Failed to open WordPress admin:', error);
                    }
                },

                openSite(url) {
                    window.open(url, '_blank');
                },

                // Content Generation Methods
                async generateBlog() {
                    if (!this.blogTopic) {
                        this.showMessage('error', 'Please enter a topic');
                        return;
                    }

                    this.loading.content = true;
                    try {
                        const response = await fetch('/api/content/blog', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify({
                                topic: this.blogTopic,
                                language: this.blogLanguage,
                                tone: this.blogTone
                            })
                        });

                        const data = await response.json();

                        if (data.success) {
                            this.generatedContent = `
                                <h2>${data.content.title}</h2>
                                <p class="text-gray-400 text-sm mb-4">
                                    Language: ${data.content.language.toUpperCase()} |
                                    Tone: ${data.content.tone} |
                                    Words: ${data.content.wordCount} |
                                    SEO Score: ${data.content.seoScore}/100
                                </p>
                                <div>${data.content.content}</div>
                            `;
                            this.showMessage('success', 'Blog post generated successfully!');
                        }
                    } catch (error) {
                        console.error('Failed to generate blog:', error);
                        this.showMessage('error', 'Failed to generate blog post');
                    } finally {
                        this.loading.content = false;
                    }
                },

                async generateSocial() {
                    if (!this.socialTopic || this.socialPlatforms.length === 0) {
                        alert('Please enter a topic and select at least one platform');
                        return;
                    }

                    try {
                        const response = await fetch('/api/content/social', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify({
                                topic: this.socialTopic,
                                platforms: this.socialPlatforms,
                                language: this.socialLanguage
                            })
                        });

                        const data = await response.json();

                        if (data.success) {
                            this.generatedContent = '<h2>Social Media Posts</h2><div class="space-y-4">';
                            data.posts.forEach(post => {
                                this.generatedContent += `
                                    <div class="bg-gray-700 p-3 rounded">
                                        <p class="font-semibold text-purple-start mb-2">${post.platform.toUpperCase()}</p>
                                        <p class="mb-2">${post.content}</p>
                                        <p class="text-sm text-gray-400">Hashtags: ${post.hashtags.join(' ')}</p>
                                        <p class="text-xs text-gray-500">Characters: ${post.charCount}</p>
                                    </div>
                                `;
                            });
                            this.generatedContent += '</div>';
                        }
                    } catch (error) {
                        console.error('Failed to generate social posts:', error);
                        alert('Failed to generate social media posts');
                    }
                },

                async generateEmail() {
                    if (!this.emailSubject) {
                        alert('Please enter an email subject');
                        return;
                    }

                    try {
                        const response = await fetch('/api/content/email', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify({
                                subject: this.emailSubject,
                                purpose: this.emailPurpose,
                                language: this.emailLanguage
                            })
                        });

                        const data = await response.json();

                        if (data.success) {
                            this.generatedContent = `
                                <h2>${data.email.subject}</h2>
                                <p class="text-gray-400 text-sm mb-4">
                                    Purpose: ${data.email.purpose} | Language: ${data.email.language.toUpperCase()}
                                </p>
                                <p class="text-xs text-gray-500 mb-3">Preheader: ${data.email.preheader}</p>
                                <div class="border-t border-border-dark pt-3">${data.email.body}</div>
                            `;
                        }
                    } catch (error) {
                        console.error('Failed to generate email:', error);
                        alert('Failed to generate email campaign');
                    }
                },

                copyContent() {
                    const tempDiv = document.createElement('div');
                    tempDiv.innerHTML = this.generatedContent;
                    const text = tempDiv.textContent || tempDiv.innerText;

                    navigator.clipboard.writeText(text).then(() => {
                        alert('Content copied to clipboard!');
                    }).catch(err => {
                        console.error('Failed to copy:', err);
                    });
                },

                saveContent() {
                    // TODO: Integrate with WordPress API to save as draft
                    console.log('Save to WordPress feature coming soon');
                },

                scheduleContent() {
                    // TODO: Integrate with scheduling system
                    console.log('Schedule feature coming soon');
                },

                exportContent() {
                    // Create downloadable file
                    const tempDiv = document.createElement('div');
                    tempDiv.innerHTML = this.generatedContent;
                    const text = tempDiv.textContent || tempDiv.innerText;

                    const blob = new Blob([text], { type: 'text/plain' });
                    const url = window.URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = 'generated-content.txt';
                    a.click();
                    window.URL.revokeObjectURL(url);
                },

                // Quick Action Methods
                runAudit() {
                    this.showMessage('info', 'Running comprehensive site audit...');
                    this.activeTab = 'analytics';
                    setTimeout(() => {
                        this.showMessage('success', 'Site audit completed! Check Analytics tab for results.');
                    }, 2000);
                },

                addKeyword() {
                    const keyword = prompt('Enter keyword to track:');
                    if (keyword && keyword.trim()) {
                        this.showMessage('success', `Tracking keyword: "${keyword}"`);
                        console.log('Added keyword:', keyword);
                    }
                },

                openAIChat() {
                    this.chatOpen = true;
                    if (this.chatMessages.length === 0) {
                        this.chatMessages.push({
                            role: 'assistant',
                            content: 'Hello! I\'m your AI assistant. I can help you with:\n\n• WordPress management questions\n• Content generation ideas\n• SEO optimization tips\n• Marketing strategy\n• Analytics insights\n\nWhat would you like help with today?',
                            timestamp: new Date().toLocaleTimeString()
                        });
                    }
                },

                closeAIChat() {
                    this.chatOpen = false;
                },

                async sendChatMessage() {
                    if (!this.chatInput.trim()) return;

                    const userMessage = this.chatInput.trim();
                    this.chatMessages.push({
                        role: 'user',
                        content: userMessage,
                        timestamp: new Date().toLocaleTimeString()
                    });
                    this.chatInput = '';
                    this.chatLoading = true;

                    try {
                        // Send to backend AI endpoint
                        const response = await fetch('/api/ai/chat', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({
                                message: userMessage,
                                provider: this.chatProvider,
                                history: this.chatMessages.slice(-10) // Last 10 messages for context
                            })
                        });

                        const data = await response.json();

                        if (data.success) {
                            this.chatMessages.push({
                                role: 'assistant',
                                content: data.response,
                                timestamp: new Date().toLocaleTimeString()
                            });
                        } else {
                            throw new Error(data.error || 'AI request failed');
                        }
                    } catch (error) {
                        console.error('AI Chat error:', error);
                        this.chatMessages.push({
                            role: 'assistant',
                            content: '⚠️ I\'m having trouble connecting to the AI service. This feature requires backend integration with Ollama, Claude, or LM Studio. Please ensure the AI service is running and configured.',
                            timestamp: new Date().toLocaleTimeString()
                        });
                    } finally {
                        this.chatLoading = false;
                        // Scroll to bottom
                        setTimeout(() => {
                            const chatContainer = document.querySelector('.chat-messages');
                            if (chatContainer) {
                                chatContainer.scrollTop = chatContainer.scrollHeight;
                            }
                        }, 100);
                    }
                },

                clearChatHistory() {
                    if (confirm('Clear all chat history?')) {
                        this.chatMessages = [];
                        this.openAIChat(); // Show welcome message again
                    }
                },

                openSettings() {
                    this.activeTab = 'settings';
                    this.showMessage('info', 'Opening AI Settings...');
                },

                // Marketing Automation Methods
                getTabTitle() {
                    const titles = {
                        'dashboard': 'Dashboard Overview',
                        'wordpress': 'WordPress Management',
                        'content': 'Content Generator'
                    };
                    return titles[this.activeTab] || 'Dashboard';
                },

                getTabSubtitle() {
                    const subtitles = {
                        'dashboard': 'Monitor all your sites and content',
                        'wordpress': 'Manage 5 WordPress portfolio sites',
                        'content': 'AI-powered content creation (DE/EN/BG)',
                        'settings': 'AI Settings & Configuration'
                    };
                    return subtitles[this.activeTab] || '';
                },

                // AI Settings Data
                ai: {
                    providers: {},
                    models: {
                        ollama: [],
                        claude: [],
                        lmStudio: []
                    },
                    config: {
                        modelSelection: {
                            ollama: 'llama3.1:8b',
                            claude: 'claude-3-haiku-20240307',
                            lmStudio: 'mistralai/mistral-7b-instruct-v0.3'
                        },
                        defaultProviders: {
                            blog: 'claude',
                            social: 'claude',
                            email: 'claude'
                        },
                        fallbackProvider: 'ollama'
                    },
                    usage: {},
                    costs: {}
                },

                // AI Settings Methods
                async loadAIStatus() {
                    try {
                        // Load all AI status, models, usage, costs, and config in parallel
                        const [statusRes, modelsRes, usageRes, costsRes, configRes] = await Promise.all([
                            fetch('/api/ai/status'),
                            fetch('/api/ai/models'),
                            fetch('/api/ai/usage'),
                            fetch('/api/ai/cost'),
                            fetch('/api/ai/config')
                        ]);

                        const [statusData, modelsData, usageData, costsData, configData] = await Promise.all([
                            statusRes.json(),
                            modelsRes.json(),
                            usageRes.json(),
                            costsRes.json(),
                            configRes.json()
                        ]);

                        if (statusData.success) {
                            this.ai.providers = statusData.providers;
                        }

                        if (modelsData.success) {
                            this.ai.models = modelsData.models;
                        }

                        if (usageData.success) {
                            this.ai.usage = usageData.usage;
                        }

                        if (costsData.success) {
                            this.ai.costs = costsData.costs;
                        }

                        if (configData.success) {
                            this.ai.config = configData.config;
                        }

                        console.log('AI Settings loaded successfully');
                    } catch (error) {
                        console.error('Failed to load AI settings:', error);
                        this.showMessage('error', 'Failed to load AI settings');
                    }
                },

                async saveAIConfig() {
                    try {
                        const response = await fetch('/api/ai/config', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(this.ai.config)
                        });

                        const data = await response.json();

                        if (data.success) {
                            this.showMessage('success', 'AI configuration saved successfully!');
                            // Reload status to reflect new configuration
                            await this.loadAIStatus();
                        } else {
                            this.showMessage('error', 'Failed to save AI configuration');
                        }
                    } catch (error) {
                        console.error('Failed to save AI config:', error);
                        this.showMessage('error', 'Failed to save AI configuration');
                    }
                }
            }
        }
    </script>

    <style>
        [x-cloak] { display: none !important; }
    </style>
</body>
</html>
